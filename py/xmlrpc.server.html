<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>:mod:`xmlrpc.server` --- Basic XML-RPC servers</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="mod-xmlrpc-server-basic-xml-rpc-servers">
<h1 class="title"><a href="#id1"><span class="problematic" id="id2">:mod:`xmlrpc.server`</span></a> --- Basic XML-RPC servers</h1>

<div class="system-message" id="id1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 1); <em><a href="#id2">backlink</a></em></p>
Unknown interpreted text role &quot;mod&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 4)</p>
<p>Unknown directive type &quot;module&quot;.</p>
<pre class="literal-block">
.. module:: xmlrpc.server
   :synopsis: Basic XML-RPC server implementations.

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 7)</p>
<p>Unknown directive type &quot;moduleauthor&quot;.</p>
<pre class="literal-block">
.. moduleauthor:: Brian Quinlan &lt;brianq&#64;activestate.com&gt;
</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 8)</p>
<p>Unknown directive type &quot;sectionauthor&quot;.</p>
<pre class="literal-block">
.. sectionauthor:: Fred L. Drake, Jr. &lt;fdrake&#64;acm.org&gt;

</pre>
</div>
<p><strong>Source code:</strong> <a href="#id3"><span class="problematic" id="id4">:source:`Lib/xmlrpc/server.py`</span></a></p>
<div class="system-message" id="id3">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 10); <em><a href="#id4">backlink</a></em></p>
Unknown interpreted text role &quot;source&quot;.</div>
<hr class="docutils" />
<p>The <a href="#id5"><span class="problematic" id="id6">:mod:`xmlrpc.server`</span></a> module provides a basic server framework for XML-RPC
servers written in Python.  Servers can either be free standing, using
<a href="#id7"><span class="problematic" id="id8">:class:`SimpleXMLRPCServer`</span></a>, or embedded in a CGI environment, using
<a href="#id9"><span class="problematic" id="id10">:class:`CGIXMLRPCRequestHandler`</span></a>.</p>
<div class="system-message" id="id5">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 14); <em><a href="#id6">backlink</a></em></p>
Unknown interpreted text role &quot;mod&quot;.</div>
<div class="system-message" id="id7">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 14); <em><a href="#id8">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message" id="id9">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 14); <em><a href="#id10">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>The <a href="#id11"><span class="problematic" id="id12">:mod:`xmlrpc.server`</span></a> module is not secure against maliciously
constructed data.  If you need to parse untrusted or unauthenticated data see
<a href="#id13"><span class="problematic" id="id14">:ref:`xml-vulnerabilities`</span></a>.</p>
<div class="system-message" id="id11">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 22); <em><a href="#id12">backlink</a></em></p>
Unknown interpreted text role &quot;mod&quot;.</div>
<div class="last system-message" id="id13">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 22); <em><a href="#id14">backlink</a></em></p>
Unknown interpreted text role &quot;ref&quot;.</div>
</div>
<p class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false">Create a new server instance.  This class provides methods for registration of
functions that can be called by the XML-RPC protocol.  The <em>requestHandler</em>
parameter should be a factory for request handler instances; it defaults to
<a href="#id15"><span class="problematic" id="id16">:class:`SimpleXMLRPCRequestHandler`</span></a>.  The <em>addr</em> and <em>requestHandler</em> parameters
are passed to the <a href="#id17"><span class="problematic" id="id18">:class:`socketserver.TCPServer`</span></a> constructor.  If <em>logRequests</em>
is true (the default), requests will be logged; setting this parameter to false
will turn off logging.   The <em>allow_none</em> and <em>encoding</em> parameters are passed
on to <a href="#id19"><span class="problematic" id="id20">:mod:`xmlrpc.client`</span></a> and control the XML-RPC responses that will be returned
from the server. The <em>bind_and_activate</em> parameter controls whether
<a href="#id21"><span class="problematic" id="id22">:meth:`server_bind`</span></a> and <a href="#id23"><span class="problematic" id="id24">:meth:`server_activate`</span></a> are called immediately by the
constructor; it defaults to true. Setting it to false allows code to manipulate
the <em>allow_reuse_address</em> class variable before the address is bound.
The <em>use_builtin_types</em> parameter is passed to the
<a href="#id25"><span class="problematic" id="id26">:func:`~xmlrpc.client.loads`</span></a> function and controls which types are processed
when date/times values or binary data are received; it defaults to false.</p>
<div class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false system-message" id="id15">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 31); <em><a href="#id16">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false system-message" id="id17">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 31); <em><a href="#id18">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false system-message" id="id19">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 31); <em><a href="#id20">backlink</a></em></p>
Unknown interpreted text role &quot;mod&quot;.</div>
<div class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false system-message" id="id21">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 31); <em><a href="#id22">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<div class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false system-message" id="id23">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 31); <em><a href="#id24">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<div class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false system-message" id="id25">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 31); <em><a href="#id26">backlink</a></em></p>
Unknown interpreted text role &quot;func&quot;.</div>
<div class="simplexmlrpcserver-addr requesthandler-simplexmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 47)</p>
<p>Unknown directive type &quot;versionchanged&quot;.</p>
<pre class="literal-block">
.. versionchanged:: 3.3
   The *use_builtin_types* flag was added.
</pre>
</div>
<p class="cgixmlrpcrequesthandler-allow-none-false encoding-none use-builtin-types-false">Create a new instance to handle XML-RPC requests in a CGI environment.  The
<em>allow_none</em> and <em>encoding</em> parameters are passed on to <a href="#id27"><span class="problematic" id="id28">:mod:`xmlrpc.client`</span></a>
and control the XML-RPC responses that will be returned from the server.
The <em>use_builtin_types</em> parameter is passed to the
<a href="#id29"><span class="problematic" id="id30">:func:`~xmlrpc.client.loads`</span></a> function and controls which types are processed
when date/times values or binary data are received; it defaults to false.</p>
<div class="cgixmlrpcrequesthandler-allow-none-false encoding-none use-builtin-types-false system-message" id="id27">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 54); <em><a href="#id28">backlink</a></em></p>
Unknown interpreted text role &quot;mod&quot;.</div>
<div class="cgixmlrpcrequesthandler-allow-none-false encoding-none use-builtin-types-false system-message" id="id29">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 54); <em><a href="#id30">backlink</a></em></p>
Unknown interpreted text role &quot;func&quot;.</div>
<div class="cgixmlrpcrequesthandler-allow-none-false encoding-none use-builtin-types-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 61)</p>
<p>Unknown directive type &quot;versionchanged&quot;.</p>
<pre class="literal-block">
.. versionchanged:: 3.3
   The *use_builtin_types* flag was added.
</pre>
</div>
<p class="simplexmlrpcrequesthandler">Create a new request handler instance.  This request handler supports <tt class="docutils literal">POST</tt>
requests and modifies logging so that the <em>logRequests</em> parameter to the
<a href="#id31"><span class="problematic" id="id32">:class:`SimpleXMLRPCServer`</span></a> constructor parameter is honored.</p>
<div class="simplexmlrpcrequesthandler system-message" id="id31">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 67); <em><a href="#id32">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="section" id="simplexmlrpcserver-objects">
<span id="simple-xmlrpc-servers"></span><h1>SimpleXMLRPCServer Objects</h1>
<p>The <a href="#id33"><span class="problematic" id="id34">:class:`SimpleXMLRPCServer`</span></a> class is based on
<a href="#id35"><span class="problematic" id="id36">:class:`socketserver.TCPServer`</span></a> and provides a means of creating simple, stand
alone XML-RPC servers.</p>
<div class="system-message" id="id33">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 77); <em><a href="#id34">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message" id="id35">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 77); <em><a href="#id36">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 82)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: SimpleXMLRPCServer.register_function(function=None, name=None)

   Register a function that can respond to XML-RPC requests.  If *name* is given,
   it will be the method name associated with *function*, otherwise
   ``function.__name__`` will be used.  *name* is a string, and may contain
   characters not legal in Python identifiers, including the period character.

   This method can also be used as a decorator.  When used as a decorator,
   *name* can only be given as a keyword argument to register *function* under
   *name*.  If no *name* is given, ``function.__name__`` will be used.

   .. versionchanged:: 3.7
      :meth:`register_function` can be used as a decorator.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 97)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: SimpleXMLRPCServer.register_instance(instance, allow_dotted_names=False)

   Register an object which is used to expose method names which have not been
   registered using :meth:`register_function`.  If *instance* contains a
   :meth:`_dispatch` method, it is called with the requested method name and the
   parameters from the request.  Its API is ``def _dispatch(self, method, params)``
   (note that *params* does not represent a variable argument list).  If it calls
   an underlying function to perform its task, that function is called as
   ``func(*params)``, expanding the parameter list. The return value from
   :meth:`_dispatch` is returned to the client as the result.  If *instance* does
   not have a :meth:`_dispatch` method, it is searched for an attribute matching
   the name of the requested method.

   If the optional *allow_dotted_names* argument is true and the instance does not
   have a :meth:`_dispatch` method, then if the requested method name contains
   periods, each component of the method name is searched for individually, with
   the effect that a simple hierarchical search is performed.  The value found from
   this search is then called with the parameters from the request, and the return
   value is passed back to the client.

   .. warning::

      Enabling the *allow_dotted_names* option allows intruders to access your
      module's global variables and may allow intruders to execute arbitrary code on
      your machine.  Only use this option on a secure, closed network.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 124)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: SimpleXMLRPCServer.register_introspection_functions()

   Registers the XML-RPC introspection functions ``system.listMethods``,
   ``system.methodHelp`` and ``system.methodSignature``.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 130)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: SimpleXMLRPCServer.register_multicall_functions()

   Registers the XML-RPC multicall function system.multicall.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 135)</p>
<p>Unknown directive type &quot;attribute&quot;.</p>
<pre class="literal-block">
.. attribute:: SimpleXMLRPCRequestHandler.rpc_paths

   An attribute value that must be a tuple listing valid path portions of the URL
   for receiving XML-RPC requests.  Requests posted to other paths will result in a
   404 &quot;no such page&quot; HTTP error.  If this tuple is empty, all paths will be
   considered valid. The default value is ``('/', '/RPC2')``.


</pre>
</div>
<div class="section" id="id37">
<span id="simplexmlrpcserver-example"></span><h2>SimpleXMLRPCServer Example</h2>
<p>Server code:</p>
<pre class="literal-block">
from xmlrpc.server import SimpleXMLRPCServer
from xmlrpc.server import SimpleXMLRPCRequestHandler

# Restrict to a particular path.
class RequestHandler(SimpleXMLRPCRequestHandler):
    rpc_paths = ('/RPC2',)

# Create server
with SimpleXMLRPCServer(('localhost', 8000),
                        requestHandler=RequestHandler) as server:
    server.register_introspection_functions()

    # Register pow() function; this will use the value of
    # pow.__name__ as the name, which is just 'pow'.
    server.register_function(pow)

    # Register a function under a different name
    def adder_function(x, y):
        return x + y
    server.register_function(adder_function, 'add')

    # Register an instance; all the methods of the instance are
    # published as XML-RPC methods (in this case, just 'mul').
    class MyFuncs:
        def mul(self, x, y):
            return x * y

    server.register_instance(MyFuncs())

    # Run the server's main loop
    server.serve_forever()
</pre>
<p>The following client code will call the methods made available by the preceding
server:</p>
<pre class="literal-block">
import xmlrpc.client

s = xmlrpc.client.ServerProxy('http://localhost:8000')
print(s.pow(2,3))  # Returns 2**3 = 8
print(s.add(2,3))  # Returns 5
print(s.mul(5,2))  # Returns 5*2 = 10

# Print list of available methods
print(s.system.listMethods())
</pre>
<p><a href="#id38"><span class="problematic" id="id39">:meth:`register_function`</span></a> can also be used as a decorator. The previous server
example can register functions in a decorator way:</p>
<div class="system-message" id="id38">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 194); <em><a href="#id39">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<pre class="literal-block">
from xmlrpc.server import SimpleXMLRPCServer
from xmlrpc.server import SimpleXMLRPCRequestHandler

class RequestHandler(SimpleXMLRPCRequestHandler):
    rpc_paths = ('/RPC2',)

with SimpleXMLRPCServer(('localhost', 8000),
                        requestHandler=RequestHandler) as server:
    server.register_introspection_functions()

    # Register pow() function; this will use the value of
    # pow.__name__ as the name, which is just 'pow'.
    server.register_function(pow)

    # Register a function under a different name, using
    # register_function as a decorator. *name* can only be given
    # as a keyword argument.
    &#64;server.register_function(name='add')
    def adder_function(x, y):
        return x + y

    # Register a function under function.__name__.
    &#64;server.register_function
    def mul(x, y):
        return x * y

    server.serve_forever()
</pre>
<p>The following example included in the <a href="#id40"><span class="problematic" id="id41">:file:`Lib/xmlrpc/server.py`</span></a> module shows
a server allowing dotted names and registering a multicall function.</p>
<div class="system-message" id="id40">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 225); <em><a href="#id41">backlink</a></em></p>
Unknown interpreted text role &quot;file&quot;.</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Enabling the <em>allow_dotted_names</em> option allows intruders to access your
module's global variables and may allow intruders to execute arbitrary code on
your machine.  Only use this example only within a secure, closed network.</p>
</div>
<pre class="literal-block">
import datetime

class ExampleService:
    def getData(self):
        return '42'

    class currentTime:
        &#64;staticmethod
        def getCurrentTime():
            return datetime.datetime.now()

with SimpleXMLRPCServer((&quot;localhost&quot;, 8000)) as server:
    server.register_function(pow)
    server.register_function(lambda x,y: x+y, 'add')
    server.register_instance(ExampleService(), allow_dotted_names=True)
    server.register_multicall_functions()
    print('Serving XML-RPC on localhost port 8000')
    try:
        server.serve_forever()
    except KeyboardInterrupt:
        print(&quot;\nKeyboard interrupt received, exiting.&quot;)
        sys.exit(0)
</pre>
<p>This ExampleService demo can be invoked from the command line:</p>
<pre class="literal-block">
python -m xmlrpc.server
</pre>
<p>The client that interacts with the above server is included in
<cite>Lib/xmlrpc/client.py</cite>:</p>
<pre class="literal-block">
server = ServerProxy(&quot;http://localhost:8000&quot;)

try:
    print(server.currentTime.getCurrentTime())
except Error as v:
    print(&quot;ERROR&quot;, v)

multi = MultiCall(server)
multi.getData()
multi.pow(2,9)
multi.add(1,2)
try:
    for response in multi():
        print(response)
except Error as v:
    print(&quot;ERROR&quot;, v)
</pre>
<p>This client which interacts with the demo XMLRPC server can be invoked as:</p>
<pre class="literal-block">
python -m xmlrpc.client
</pre>
</div>
</div>
<div class="section" id="cgixmlrpcrequesthandler">
<h1>CGIXMLRPCRequestHandler</h1>
<p>The <a href="#id42"><span class="problematic" id="id43">:class:`CGIXMLRPCRequestHandler`</span></a> class can be used to handle XML-RPC
requests sent to Python CGI scripts.</p>
<div class="system-message" id="id42">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 292); <em><a href="#id43">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 296)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: CGIXMLRPCRequestHandler.register_function(function=None, name=None)

   Register a function that can respond to XML-RPC requests.  If *name* is given,
   it will be the method name associated with *function*, otherwise
   ``function.__name__`` will be used.  *name* is a string, and may contain
   characters not legal in Python identifiers, including the period character.

   This method can also be used as a decorator.  When used as a decorator,
   *name* can only be given as a keyword argument to register *function* under
   *name*.  If no *name* is given, ``function.__name__`` will be used.

   .. versionchanged:: 3.7
      :meth:`register_function` can be used as a decorator.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 311)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: CGIXMLRPCRequestHandler.register_instance(instance)

   Register an object which is used to expose method names  which have not been
   registered using :meth:`register_function`. If  instance contains a
   :meth:`_dispatch` method, it is called with the  requested method name and the
   parameters from the  request; the return value is returned to the client as the
   result. If instance does not have a :meth:`_dispatch` method, it is searched
   for an attribute matching the name of the requested method; if  the requested
   method name contains periods, each  component of the method name is searched for
   individually,  with the effect that a simple hierarchical search is performed.
   The value found from this search is then called with the  parameters from the
   request, and the return value is passed  back to the client.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 325)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: CGIXMLRPCRequestHandler.register_introspection_functions()

   Register the XML-RPC introspection functions  ``system.listMethods``,
   ``system.methodHelp`` and  ``system.methodSignature``.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 331)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: CGIXMLRPCRequestHandler.register_multicall_functions()

   Register the XML-RPC multicall function ``system.multicall``.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 336)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: CGIXMLRPCRequestHandler.handle_request(request_text=None)

   Handle an XML-RPC request. If *request_text* is given, it should be the POST
   data provided by the HTTP server,  otherwise the contents of stdin will be used.

</pre>
</div>
<p>Example:</p>
<pre class="literal-block">
class MyFuncs:
    def mul(self, x, y):
        return x * y


handler = CGIXMLRPCRequestHandler()
handler.register_function(pow)
handler.register_function(lambda x,y: x+y, 'add')
handler.register_introspection_functions()
handler.register_instance(MyFuncs())
handler.handle_request()
</pre>
</div>
<div class="section" id="documenting-xmlrpc-server">
<h1>Documenting XMLRPC server</h1>
<p>These classes extend the above classes to serve HTML documentation in response
to HTTP GET requests.  Servers can either be free standing, using
<a href="#id44"><span class="problematic" id="id45">:class:`DocXMLRPCServer`</span></a>, or embedded in a CGI environment, using
<a href="#id46"><span class="problematic" id="id47">:class:`DocCGIXMLRPCRequestHandler`</span></a>.</p>
<div class="system-message" id="id44">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 359); <em><a href="#id45">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message" id="id46">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 359); <em><a href="#id47">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<p class="docxmlrpcserver-addr requesthandler-docxmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-true">Create a new server instance. All parameters have the same meaning as for
<a href="#id48"><span class="problematic" id="id49">:class:`SimpleXMLRPCServer`</span></a>; <em>requestHandler</em> defaults to
<a href="#id50"><span class="problematic" id="id51">:class:`DocXMLRPCRequestHandler`</span></a>.</p>
<div class="docxmlrpcserver-addr requesthandler-docxmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-true system-message" id="id48">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 369); <em><a href="#id49">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="docxmlrpcserver-addr requesthandler-docxmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-true system-message" id="id50">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 369); <em><a href="#id51">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="docxmlrpcserver-addr requesthandler-docxmlrpcrequesthandler logrequests-true allow-none-false encoding-none bind-and-activate-true use-builtin-types-true system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 373)</p>
<p>Unknown directive type &quot;versionchanged&quot;.</p>
<pre class="literal-block">
.. versionchanged:: 3.3
   The *use_builtin_types* flag was added.
</pre>
</div>
<p class="doccgixmlrpcrequesthandler">Create a new instance to handle XML-RPC requests in a CGI environment.</p>
<p class="docxmlrpcrequesthandler">Create a new request handler instance. This request handler supports XML-RPC
POST requests, documentation GET requests, and modifies logging so that the
<em>logRequests</em> parameter to the <a href="#id52"><span class="problematic" id="id53">:class:`DocXMLRPCServer`</span></a> constructor parameter is
honored.</p>
<div class="docxmlrpcrequesthandler system-message" id="id52">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 384); <em><a href="#id53">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
</div>
<div class="section" id="docxmlrpcserver-objects">
<span id="doc-xmlrpc-servers"></span><h1>DocXMLRPCServer Objects</h1>
<p>The <a href="#id54"><span class="problematic" id="id55">:class:`DocXMLRPCServer`</span></a> class is derived from <a href="#id56"><span class="problematic" id="id57">:class:`SimpleXMLRPCServer`</span></a>
and provides a means of creating self-documenting, stand alone XML-RPC
servers. HTTP POST requests are handled as XML-RPC method calls. HTTP GET
requests are handled by generating pydoc-style HTML documentation. This allows a
server to provide its own web-based documentation.</p>
<div class="system-message" id="id54">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 395); <em><a href="#id55">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message" id="id56">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 395); <em><a href="#id57">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 402)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: DocXMLRPCServer.set_server_title(server_title)

   Set the title used in the generated HTML documentation. This title will be used
   inside the HTML &quot;title&quot; element.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 408)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: DocXMLRPCServer.set_server_name(server_name)

   Set the name used in the generated HTML documentation. This name will appear at
   the top of the generated documentation inside a &quot;h1&quot; element.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 414)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: DocXMLRPCServer.set_server_documentation(server_documentation)

   Set the description used in the generated HTML documentation. This description
   will appear as a paragraph, below the server name, in the documentation.


</pre>
</div>
</div>
<div class="section" id="doccgixmlrpcrequesthandler">
<h1>DocCGIXMLRPCRequestHandler</h1>
<p>The <a href="#id58"><span class="problematic" id="id59">:class:`DocCGIXMLRPCRequestHandler`</span></a> class is derived from
<a href="#id60"><span class="problematic" id="id61">:class:`CGIXMLRPCRequestHandler`</span></a> and provides a means of creating
self-documenting, XML-RPC CGI scripts. HTTP POST requests are handled as XML-RPC
method calls. HTTP GET requests are handled by generating pydoc-style HTML
documentation. This allows a server to provide its own web-based documentation.</p>
<div class="system-message" id="id58">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 423); <em><a href="#id59">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message" id="id60">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 423); <em><a href="#id61">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 430)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: DocCGIXMLRPCRequestHandler.set_server_title(server_title)

   Set the title used in the generated HTML documentation. This title will be used
   inside the HTML &quot;title&quot; element.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 436)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: DocCGIXMLRPCRequestHandler.set_server_name(server_name)

   Set the name used in the generated HTML documentation. This name will appear at
   the top of the generated documentation inside a &quot;h1&quot; element.


</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">xmlrpc.server.rst</tt>, line 442)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: DocCGIXMLRPCRequestHandler.set_server_documentation(server_documentation)

   Set the description used in the generated HTML documentation. This description
   will appear as a paragraph, below the server name, in the documentation.
</pre>
</div>
</div>
</div>
</body>
</html>
