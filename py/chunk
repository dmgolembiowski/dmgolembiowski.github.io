<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />
<title>:mod:`chunk` --- Read IFF chunked data</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 7952 2016-07-26 18:15:59Z milde $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

.subscript {
  vertical-align: sub;
  font-size: smaller }

.superscript {
  vertical-align: super;
  font-size: smaller }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

object[type="image/svg+xml"], object[type="application/x-shockwave-flash"] {
  overflow: hidden;
}

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title, .code .error {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left, .figure.align-left, object.align-left, table.align-left {
  clear: left ;
  float: left ;
  margin-right: 1em }

img.align-right, .figure.align-right, object.align-right, table.align-right {
  clear: right ;
  float: right ;
  margin-left: 1em }

img.align-center, .figure.align-center, object.align-center {
  display: block;
  margin-left: auto;
  margin-right: auto;
}

table.align-center {
  margin-left: auto;
  margin-right: auto;
}

.align-left {
  text-align: left }

.align-center {
  clear: both ;
  text-align: center }

.align-right {
  text-align: right }

/* reset inner alignment in figures */
div.align-right {
  text-align: inherit }

/* div.align-center * { */
/*   text-align: left } */

.align-top    {
  vertical-align: top }

.align-middle {
  vertical-align: middle }

.align-bottom {
  vertical-align: bottom }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font: inherit }

pre.literal-block, pre.doctest-block, pre.math, pre.code {
  margin-left: 2em ;
  margin-right: 2em }

pre.code .ln { color: grey; } /* line numbers */
pre.code, code { background-color: #eeeeee }
pre.code .comment, code .comment { color: #5C6576 }
pre.code .keyword, code .keyword { color: #3B0D06; font-weight: bold }
pre.code .literal.string, code .literal.string { color: #0C5404 }
pre.code .name.builtin, code .name.builtin { color: #352B84 }
pre.code .deleted, code .deleted { background-color: #DEB0A1}
pre.code .inserted, code .inserted { background-color: #A3D289}

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

/* "booktabs" style (no vertical lines) */
table.docutils.booktabs {
  border: 0px;
  border-top: 2px solid;
  border-bottom: 2px solid;
  border-collapse: collapse;
}
table.docutils.booktabs * {
  border: 0px;
}
table.docutils.booktabs th {
  border-bottom: thin solid;
  text-align: left;
}

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="mod-chunk-read-iff-chunked-data">
<h1 class="title"><a href="#id1"><span class="problematic" id="id2">:mod:`chunk`</span></a> --- Read IFF chunked data</h1>

<div class="system-message" id="id1">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 1); <em><a href="#id2">backlink</a></em></p>
Unknown interpreted text role &quot;mod&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 4)</p>
<p>Unknown directive type &quot;module&quot;.</p>
<pre class="literal-block">
.. module:: chunk
   :synopsis: Module to read IFF chunks.

</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 7)</p>
<p>Unknown directive type &quot;moduleauthor&quot;.</p>
<pre class="literal-block">
.. moduleauthor:: Sjoerd Mullender &lt;sjoerd&#64;acm.org&gt;
</pre>
</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 8)</p>
<p>Unknown directive type &quot;sectionauthor&quot;.</p>
<pre class="literal-block">
.. sectionauthor:: Sjoerd Mullender &lt;sjoerd&#64;acm.org&gt;

</pre>
</div>
<p><strong>Source code:</strong> <a href="#id3"><span class="problematic" id="id4">:source:`Lib/chunk.py`</span></a></p>
<div class="system-message" id="id3">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 10); <em><a href="#id4">backlink</a></em></p>
Unknown interpreted text role &quot;source&quot;.</div>
<div class="system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 12)</p>
<p>Unknown directive type &quot;index&quot;.</p>
<pre class="literal-block">
.. index::
   single: Audio Interchange File Format
   single: AIFF
   single: AIFF-C
   single: Real Media File Format
   single: RMFF

</pre>
</div>
<hr class="docutils" />
<p>This module provides an interface for reading files that use EA IFF 85 chunks.
<a class="footnote-reference" href="#id26" id="id5">[1]</a>  This format is used in at least the Audio Interchange File Format
(AIFF/AIFF-C) and the Real Media File Format (RMFF).  The WAVE audio file format
is closely related and can also be read using this module.</p>
<p>A chunk has the following structure:</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="17%" />
<col width="65%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Offset</th>
<th class="head">Length</th>
<th class="head">Contents</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>0</td>
<td>4</td>
<td>Chunk ID</td>
</tr>
<tr><td>4</td>
<td>4</td>
<td>Size of chunk in big-endian
byte order, not including the
header</td>
</tr>
<tr><td>8</td>
<td><em>n</em></td>
<td>Data bytes, where <em>n</em> is the
size given in the preceding
field</td>
</tr>
<tr><td>8 + <em>n</em></td>
<td>0 or 1</td>
<td>Pad byte needed if <em>n</em> is odd
and chunk alignment is used</td>
</tr>
</tbody>
</table>
<p>The ID is a 4-byte string which identifies the type of chunk.</p>
<p>The size field (a 32-bit value, encoded using big-endian byte order) gives the
size of the chunk data, not including the 8-byte header.</p>
<p>Usually an IFF-type file consists of one or more chunks.  The proposed usage of
the <a href="#id6"><span class="problematic" id="id7">:class:`Chunk`</span></a> class defined here is to instantiate an instance at the start
of each chunk and read from the instance until it reaches the end, after which a
new instance can be instantiated. At the end of the file, creating a new
instance will fail with an <a href="#id8"><span class="problematic" id="id9">:exc:`EOFError`</span></a> exception.</p>
<div class="system-message" id="id6">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 50); <em><a href="#id7">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="system-message" id="id8">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 50); <em><a href="#id9">backlink</a></em></p>
Unknown interpreted text role &quot;exc&quot;.</div>
<p class="chunk-file align-true bigendian-true inclheader-false">Class which represents a chunk.  The <em>file</em> argument is expected to be a
file-like object.  An instance of this class is specifically allowed.  The
only method that is needed is <a href="#id10"><span class="problematic" id="id11">:meth:`~io.IOBase.read`</span></a>.  If the methods
<a href="#id12"><span class="problematic" id="id13">:meth:`~io.IOBase.seek`</span></a> and <a href="#id14"><span class="problematic" id="id15">:meth:`~io.IOBase.tell`</span></a> are present and don't
raise an exception, they are also used.
If these methods are present and raise an exception, they are expected to not
have altered the object.  If the optional argument <em>align</em> is true, chunks
are assumed to be aligned on 2-byte boundaries.  If <em>align</em> is false, no
alignment is assumed.  The default value is true.  If the optional argument
<em>bigendian</em> is false, the chunk size is assumed to be in little-endian order.
This is needed for WAVE audio files. The default value is true.  If the
optional argument <em>inclheader</em> is true, the size given in the chunk header
includes the size of the header.  The default value is false.</p>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id10">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 59); <em><a href="#id11">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id12">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 59); <em><a href="#id13">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id14">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 59); <em><a href="#id15">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<p class="chunk-file align-true bigendian-true inclheader-false">A <a href="#id16"><span class="problematic" id="id17">:class:`Chunk`</span></a> object supports the following methods:</p>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id16">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 73); <em><a href="#id17">backlink</a></em></p>
Unknown interpreted text role &quot;class&quot;.</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 76)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: getname()

   Returns the name (ID) of the chunk.  This is the first 4 bytes of the
   chunk.


</pre>
</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 82)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: getsize()

   Returns the size of the chunk.


</pre>
</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 87)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: close()

   Close and skip to the end of the chunk.  This does not close the
   underlying file.

</pre>
</div>
<p class="chunk-file align-true bigendian-true inclheader-false">The remaining methods will raise <a href="#id18"><span class="problematic" id="id19">:exc:`OSError`</span></a> if called after the
<a href="#id20"><span class="problematic" id="id21">:meth:`close`</span></a> method has been called.  Before Python 3.3, they used to
raise <a href="#id22"><span class="problematic" id="id23">:exc:`IOError`</span></a>, now an alias of <a href="#id24"><span class="problematic" id="id25">:exc:`OSError`</span></a>.</p>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id18">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 92); <em><a href="#id19">backlink</a></em></p>
Unknown interpreted text role &quot;exc&quot;.</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id20">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 92); <em><a href="#id21">backlink</a></em></p>
Unknown interpreted text role &quot;meth&quot;.</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id22">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 92); <em><a href="#id23">backlink</a></em></p>
Unknown interpreted text role &quot;exc&quot;.</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message" id="id24">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 92); <em><a href="#id25">backlink</a></em></p>
Unknown interpreted text role &quot;exc&quot;.</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 97)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: isatty()

   Returns ``False``.


</pre>
</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 102)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: seek(pos, whence=0)

   Set the chunk's current position.  The *whence* argument is optional and
   defaults to ``0`` (absolute file positioning); other values are ``1``
   (seek relative to the current position) and ``2`` (seek relative to the
   file's end).  There is no return value. If the underlying file does not
   allow seek, only forward seeks are allowed.


</pre>
</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 111)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: tell()

   Return the current position into the chunk.


</pre>
</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 116)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: read(size=-1)

   Read at most *size* bytes from the chunk (less if the read hits the end of
   the chunk before obtaining *size* bytes).  If the *size* argument is
   negative or omitted, read all data until the end of the chunk.  An empty
   bytes object is returned when the end of the chunk is encountered
   immediately.


</pre>
</div>
<div class="chunk-file align-true bigendian-true inclheader-false system-message">
<p class="system-message-title">System Message: ERROR/3 (<tt class="docutils">chunk.rst</tt>, line 125)</p>
<p>Unknown directive type &quot;method&quot;.</p>
<pre class="literal-block">
.. method:: skip()

   Skip to the end of the chunk.  All further calls to :meth:`read` for the
   chunk will return ``b''``.  If you are not interested in the contents of
   the chunk, this method should be called so that the file points to the
   start of the next chunk.
</pre>
</div>
<p class="rubric">Footnotes</p>
<table class="docutils footnote" frame="void" id="id26" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[1]</a></td><td>&quot;EA IFF 85&quot; Standard for Interchange Format Files, Jerry Morrison, Electronic
Arts, January 1985.</td></tr>
</tbody>
</table>
</div>
</body>
</html>
